(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{M2sk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=n("vOnD").c.div.withConfig({displayName:"main-content__MainContent",componentId:"sc-1ji5n95-0"})(["margin:1.25em;flex:0.7;font-size:1em;"])},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},b804:function(e,t,n){"use strict";n.r(t);var a=n("Wbzz"),r=n("q1tI"),i=n.n(r),c=n("/p1/"),l=n("M2sk"),s=n("qPwG"),o=n("zj8e"),u=n("kD0k"),d=n.n(u),m=(n("ls82"),n("/S4K")),p=n("LvDl"),f=n("vOnD"),h=n("efbE"),g=n("AkCr"),v=n("qShC"),b=n("9VIf"),w=n("sqT6"),E=f.c.small.withConfig({displayName:"profile-content__UsernameCheck",componentId:"sc-3qphev-0"})(["color:",";"],(function(e){return e.isValid?"":"red"})),y=function(e){var t=Object(r.useContext)(w.a),n=Object(r.useState)(t.member),a=n[0],c=n[1],l=Object(r.useState)(t.member.username),s=l[0],u=l[1],f=Object(r.useState)({valid:!0,reason:""}),y=f[0],S=f[1],x=Object(r.useState)(t.member.bio),k=x[0],C=x[1],j=Object(r.useState)(t.member.technologies),O=j[0],_=j[1];Object(r.useEffect)((function(){c(t.member),u(t.member.username),C(t.member.bio),_(t.member.technologies)}),[t.member]);var I=function(){var n=Object(m.a)(d.a.mark((function n(){var r,i,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=h.ServiceResolver.apiResolver(),n.prev=1,i=Object.assign({},a,{username:s,bio:k,technologies:O}),n.next=5,r.editUser(i);case 5:l=n.sent,e.handleStatusDisplay&&e.handleStatusDisplay("success","Settings saved"),c(l.data),t.setMember&&t.setMember(i),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),e.handleStatusDisplay&&e.handleStatusDisplay("error",n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(){return n.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(d.a.mark((function e(t,n){var a,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.ServiceResolver.apiResolver(),r={username:t},t!=(null==n?void 0:n.username)){e.next=5;break}return S({valid:!0,reason:""}),e.abrupt("return");case 5:return e.prev=5,e.next=8,a.validateUsername(r);case 8:i=e.sent,S(i.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),S({valid:!1,reason:"Failed to validate username"});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}(),D=Object(r.useCallback)(Object(p.debounce)(P,450),[]);return i.a.createElement(g.e,null,i.a.createElement(o.b,{src:a&&a.profilePictureUrl||b.d,width:"64",height:"64"}),i.a.createElement(g.g,{htmlFor:"username"},"Username"),i.a.createElement(g.f,{type:"text",name:"username",id:"username",value:s,onChange:function(e){return function(e){u(e),S({valid:!0,reason:"checking..."}),D(e,a)}(e.target.value)},hasError:!y.valid}),""!=y.reason&&s!=(null==a?void 0:a.username)&&i.a.createElement(E,{isValid:y.valid},y.reason),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(g.g,{htmlFor:"bio"},"Bio"),i.a.createElement(g.h,{name:"bio",id:"bio",onChange:function(e){return C(e.target.value)},value:k,rows:5},k),i.a.createElement("br",null),i.a.createElement(g.g,{htmlFor:"technologies"},"Technologies"),i.a.createElement(g.l,{name:"technologies",id:"technologies",setError:function(t){e.handleStatusDisplay&&e.handleStatusDisplay("error",t)},initialValues:O,setTechnologies:function(e){var t=void 0===(null==a?void 0:a.id)?"":a.id,n=Array.isArray(e)?e.map((function(e){var n=O.find((function(t){return t.name==e}));return null==n?{name:e,userId:t}:{name:e,userId:t,id:n.id}})):[];_(n)}}),i.a.createElement(g.a,null,i.a.createElement(v.a,{handleClick:I,statusText:"Saving"},"Save")))},S=f.c.small.withConfig({displayName:"change-password-content__FormMessage",componentId:"sc-1yz6dp-0"})(["color:",";"],(function(e){return e.isValid?"":"red"})),x=function(e){var t=Object(r.useState)(""),n=t[0],a=t[1],c=Object(r.useState)(""),l=c[0],s=c[1],o=Object(r.useState)(""),u=o[0],p=o[1],f=Object(r.useState)(!0),b=f[0],w=f[1],E=Object(r.useState)(""),y=E[0],x=E[1],k=function(){var t=Object(m.a)(d.a.mark((function t(){var r,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==n&&""!==l&&""!==u){t.next=4;break}return x("Provide a value for all fields."),w(!1),t.abrupt("return");case 4:if(l===u){t.next=8;break}return x("New passwords don't match."),w(!1),t.abrupt("return");case 8:return r=h.ServiceResolver.apiResolver(),t.prev=9,i={oldPassword:n,newPassword:l,confirmedNewPassword:u},t.next=13,r.changePassword(i);case 13:a(""),s(""),p(""),e.handleStatusDisplay&&e.handleStatusDisplay("success","Password updated."),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(9),e.handleStatusDisplay&&e.handleStatusDisplay("error",t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[9,19]])})));return function(){return t.apply(this,arguments)}}();return i.a.createElement(g.e,null,i.a.createElement(g.g,{htmlFor:"old-password"},"Old Password"),i.a.createElement(g.f,{type:"password",name:"old-password",id:"old-password",value:n,onChange:function(e){return t=e.target.value,void a(t);var t},hasError:!1,required:!0,alt:"password-field"}),i.a.createElement("br",null),i.a.createElement(g.g,{htmlFor:"new-password"},"New Password"),i.a.createElement(g.f,{type:"password",name:"new-password",id:"new-password",value:l,onChange:function(e){return t=e.target.value,void s(t);var t},hasError:!1,required:!0,alt:"password-field"}),i.a.createElement("br",null),i.a.createElement(g.g,{htmlFor:"confirmed-new-password"},"Confirm New Password"),i.a.createElement(g.f,{type:"password",name:"confirmed-new-password",id:"confirmed-new-password",value:u,onChange:function(e){return t=e.target.value,void p(t);var t},hasError:!1,required:!0,alt:"password-field"}),i.a.createElement("br",null),""!==y&&i.a.createElement(S,{isValid:b},y),i.a.createElement(g.a,null,i.a.createElement(v.a,{handleClick:k,statusText:"Saving"},"Save")))},k=[{name:"Change Password",content:i.a.createElement(x,null)},{name:"Edit Profile",content:i.a.createElement(y,null)}],C=n("ll4v"),j=function(){var e=Object(r.useState)(null),t=e[0],n=e[1],a=Object(r.useState)(null),c=a[0],u=a[1],d=Object(r.useState)(k[0].name),m=d[0],p=d[1];return i.a.createElement(s.b,{error:t,setError:n,success:c,setSuccess:u,isLoading:!1},i.a.createElement(o.a,null,k.map((function(e){return i.a.createElement(C.c,{onClick:function(){return t=e.name,void p(t);var t},key:e.name,active:e.name===m},e.name)}))),i.a.createElement(l.a,null,function(e,t){switch(e){case"Change Password":return i.a.createElement(x,t);case"Edit Profile":return i.a.createElement(y,t)}}(m,{handleStatusDisplay:function(e,t){switch(e){case"success":u(t);break;case"error":n(t)}}})))},O=n("woEc"),_=n("eZYV");t.default=function(){var e=Object(_.d)();return Object(r.useEffect)((function(){O.b.isUserAuthenticated()||Object(a.navigate)("/signin",{state:{message:"You need to be signed in to edit your account settings"}})}),[]),i.a.createElement(c.f,null,i.a.createElement(c.l,{title:"Account Settings",description:"Account Settings Page For "+e.title,urlSlug:"settings/"}),i.a.createElement(j,null))}},ll4v:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var a=n("vOnD"),r=a.c.div.withConfig({displayName:"container-side-panel__ContainerSidePanel",componentId:"ctlsp9-0"})(["flex:0.3;border:none;padding-top:2em;@media screen and (min-width:","){border-right:1px solid lightgray;}"],(function(e){return e.theme.sizes.width.small})),i=a.c.div.withConfig({displayName:"container-side-panel__Summary",componentId:"ctlsp9-1"})(["color:black;text-align:center;width:100%;margin:0 auto 1em;"]),c=a.c.img.withConfig({displayName:"container-side-panel__Image",componentId:"ctlsp9-2"})(["height:auto;border-radius:100px;margin-bottom:0;"]),l=(a.c.b.withConfig({displayName:"container-side-panel__Title",componentId:"ctlsp9-3"})(["font-size:16px;margin-top:-10px;"]),a.c.div.withConfig({displayName:"container-side-panel__ButtonContainer",componentId:"ctlsp9-4"})(["text-align:center;margin-top:20px;"]),a.c.div.withConfig({displayName:"container-side-panel__MenuItemContainer",componentId:"ctlsp9-5"})(["margin-top:20px;"]),a.c.div.withConfig({displayName:"container-side-panel__MenuItem",componentId:"ctlsp9-6"})(["color:#000000;font-weight:",";border-left:",";padding:5px 15px;:hover{background:",";cursor:pointer;}"],(function(e){return e.active?"bold":"400"}),(function(e){return e.active?"black solid 2px":""}),(function(e){return e.theme.colors.shadow})))},qPwG:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return C}));var a=n("kD0k"),r=n.n(a),i=(n("ls82"),n("/S4K")),c=n("Wbzz"),l=n("q1tI"),s=n.n(l),o=n("vOnD"),u=o.c.div.withConfig({displayName:"base-container__BaseContainer",componentId:"sc-13p5z4z-0"})(["display:flex;flex-direction:column;margin:0 auto;@media screen and (min-width:","){border:",";flex-direction:row;}"],(function(e){return e.theme.sizes.width.small}),(function(e){return e.hasBorder?"1px solid lightgray":"none"})),d=n("M2sk"),m=n("AkCr"),p=n("EdXc"),f=n("0eLQ"),h=n("zj8e"),g=n("efbE"),v=n("/p1/"),b=n("woEc"),w=n("9VIf"),E=n("qShC"),y=o.c.img.withConfig({displayName:"profile-container__Image",componentId:"m004jg-0"})(["border-radius:50%;max-width:40%;margin-bottom:0;"]),S=o.c.div.withConfig({displayName:"profile-container__Wrapper",componentId:"m004jg-1"})(["margin:0 auto;padding:0;min-height:50vh;@media screen and (min-width:","){padding:",";}"],(function(e){return e.theme.sizes.width.small}),(function(e){return e.theme.boxes.padding.section.smallTop})),x=function(e){var t=e.id,n=Object(l.useState)(),a=n[0],o=n[1],x=Object(l.useState)(null),k=x[0],C=x[1],j=Object(l.useState)(!0),O=j[0],_=j[1];return Object(l.useEffect)((function(){var e=g.ServiceResolver.apiResolver();(function(){var n=Object(i.a)(r.a.mark((function n(){var a,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.getUser(t||"");case 3:(a=n.sent).ok?(i=a.data,o(i)):C(a.data.message),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),C(n.t0.message);case 10:_(!1);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}})()()}),[t]),s.a.createElement(S,null,O&&s.a.createElement(v.g,null),k&&s.a.createElement(f.b,{type:"danger"},k," ",s.a.createElement(f.a,{onClick:function(){return C(null)}},"✖")),!O&&a&&s.a.createElement(u,null,s.a.createElement(h.a,null,s.a.createElement(h.c,null,s.a.createElement(y,{src:a.profilePictureUrl||w.d,alt:"Profile Picture"}),s.a.createElement(h.c,null,a.username),b.b.isUserAuthenticated()&&s.a.createElement(c.Link,{to:"/settings"},s.a.createElement(E.b,null,"Edit Profile")))),s.a.createElement(d.a,null,a.bio&&s.a.createElement(l.Fragment,null,s.a.createElement(m.g,null,"Bio"),s.a.createElement("p",null,a.bio)),a.technologies&&s.a.createElement(l.Fragment,null,s.a.createElement(m.g,null,"Technologies"),s.a.createElement("div",{style:{marginTop:"0.4em"}},a.technologies.map((function(e){return s.a.createElement(p.a,{"data-testid":"technology",key:e.name},e.name)})))))))},k=o.c.div.withConfig({displayName:"settings-container__Wrapper",componentId:"sc-1fajxsv-0"})(["padding:",";width:100%;min-height:50vh;@media screen and (max-width:","){padding:0;}"],(function(e){return e.theme.boxes.padding.section.smallTop}),(function(e){return e.theme.sizes.width.small})),C=function(e){var t=e.children,n=e.error,a=e.setError,r=e.isLoading,i=e.success,c=e.setSuccess;return s.a.createElement(k,null,r&&s.a.createElement(v.g,null),n&&s.a.createElement(f.b,{type:"danger"},n," ",s.a.createElement(f.a,{onClick:function(){return a(null)}},"✖")),i&&s.a.createElement(f.b,{type:"success"},i," ",s.a.createElement(f.a,{onClick:function(){return c(null)}},"✖")),!r&&s.a.createElement(u,{hasBorder:!0},t))};n("LvDl"),n("Ixm+"),n("ll4v"),o.c.small.withConfig({displayName:"account-settings__UsernameCheck",componentId:"scs7yg-0"})(["color:",";"],(function(e){return e.isValid?"":"red"}))},zj8e:function(e,t,n){"use strict";var a=n("ll4v");n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return a.d})),n.d(t,"b",(function(){return a.b}))}}]);
//# sourceMappingURL=component---src-pages-settings-tsx-9dd4a184fed59d1b2e79.js.map