(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{gZkK:function(e,t,r){"use strict";r.r(t);var n=r("YwZP"),a=r("q1tI"),c=r.n(a),o=r("/p1/"),i=r("kD0k"),s=r.n(i),l=(r("ls82"),r("/S4K")),u=r("vOnD"),m=r("Wbzz"),p=u.c.button.withConfig({displayName:"card-button__Button",componentId:"sc-5sulta-0"})(["color:",";border-radius:0.2em;padding:7px 25px;transition:0.15s;opacity:",";align-self:flex-end;background:transparent;border:1px solid ",";@media (hover:hover){&:hover{background:",";color:",";border:1px solid ",";cursor:",";}}:focus{outline:none;box-shadow:0 0 0 4px ",";}"],(function(e){var t=e.joined,r=e.theme;return t?r.colors.text:r.colors.highlight}),(function(e){return e.disabled?"0.75":"1"}),(function(e){var t=e.joined,r=e.theme;return t?r.colors.greyDark:r.colors.highlight}),(function(e){var t=e.joined,r=e.theme;return t?"transparent":r.colors.highlight}),(function(e){var t=e.joined,r=e.theme;return t?r.colors.base:r.colors.baseinvert}),(function(e){var t=e.joined,r=e.theme;return t?r.colors.base:r.colors.highlight}),(function(e){return e.disabled?"default":"pointer"}),(function(e){var t=e.joined,r=e.theme;return t?r.colors.secondary:r.colors.highlightLight})),d=function(e){var t=e.children,r=e.joined,n=void 0!==r&&r,o=e.disabled,i=void 0!==o&&o,u=e.statusText,m=e.onClick,d=Object(a.useState)(!1),f=d[0],h=d[1],g=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!m||f){e.next=6;break}return h(!0),e.next=5,m();case 5:h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(p,{joined:n,disabled:i,onClick:g},f?u:t)},f=u.c.div.withConfig({displayName:"card-tags__Wrapper",componentId:"sc-1u349d-0"})(["margin-bottom:",";"],(function(e){var t=e.hasMargin;return void 0!==t&&t?"1em":0})),h=u.c.div.attrs({"data-testid":"project-card-pill"}).withConfig({displayName:"card-tags__Pill",componentId:"sc-1u349d-1"})(["background:",";border-radius:0.3125em;box-shadow:1px 1px 2px ",";color:",";display:inline-block;font-size:0.7em;font-weight:400;margin-right:0.5em;padding:0 0.625em;transition:0.2s;&:last-child{margin:0;}"],(function(e){return e.theme.colors.baseinvert}),(function(e){return e.theme.colors.shadow}),(function(e){return e.theme.colors.text})),g=function(e){var t=e.items;return c.a.createElement(f,{hasMargin:t.length>0},t.slice(0,5).map((function(e){var t=e.key,r=e.text;return c.a.createElement(h,{key:t},r)})),t.length>5?c.a.createElement(h,null,"+",t.length-5):null)},v=u.c.h3.withConfig({displayName:"card-title__Wrapper",componentId:"j8fdv-0"})(["color:",";margin:0.2em 0 0.8em;"],(function(e){return e.theme.colors.base})),b=u.c.img.attrs((function(){return{alt:""}})).withConfig({displayName:"card-title__Icon",componentId:"j8fdv-1"})(["filter:",";margin:0 0 -0.06em;position:relative;left:0.35em;height:0.9em;user-select:none;transition:filter 0.2s ease-out;@media (hover:hover){&:hover{cursor:",";}}"],(function(e){var t=e.clickable;return void 0!==t&&t?"grayscale(0%)":"grayscale(100%)"}),(function(e){var t=e.clickable;return void 0!==t&&t?"pointer":"default"})),j=function(e){var t=e.name,r=e.communicationPlatformUrl,n=e.workspaceLogo,o=e.clickable,i=void 0!==o&&o,s=function(e){var n=e.children;return i?c.a.createElement("a",{href:r,title:"Communication platform link for "+t,target:"_blank",rel:"noopener noreferrer"},n):c.a.createElement(a.Fragment,null,n)};return c.a.createElement(v,null,t,c.a.createElement(s,null,c.a.createElement(b,{src:n,clickable:i})))},k=r("efbE"),E=r("woEc"),w=u.c.div.withConfig({displayName:"card__Wrapper",componentId:"e54ysu-0"})(["display:flex;background-color:",";border-radius:0.3125em;padding:1.5em;flex-direction:column;height:100%;box-shadow:1px 1px 2px ",";"],(function(e){return e.theme.colors.section}),(function(e){return e.theme.colors.shadow})),x=u.c.p.withConfig({displayName:"card__Description",componentId:"e54ysu-1"})(["margin:0 0 1em;font-size:1em;"]),y=u.c.div.withConfig({displayName:"card__Spacer",componentId:"e54ysu-2"})(["flex:1;"]),O=u.c.div.withConfig({displayName:"card__Footer",componentId:"e54ysu-3"})(["display:flex;flex-direction:row;justify-content:space-between;span{line-height:2.47;}span svg{vertical-align:middle;margin-right:0.3em;path{fill:",";}}"],(function(e){return e.theme.colors.text})),C=function(e){var t=e.d;return c.a.createElement(o.p,{viewBox:"0 0 640 512",fontSize:"1em"},c.a.createElement("path",{fill:"currentColor",d:t}))},I=function(e){var t=e.content,r=e.setError,n=e.workspaceLogo,o=Object(a.useState)(!1),i=o[0],u=o[1],p=E.b.isUserAuthenticated()?E.b.getUserId():null;Object(a.useEffect)((function(){u(void 0!==t.projectUsers.find((function(e){return e.userId===p})))}),[t.projectUsers,p]);var f=function(){Object(m.navigate)("/signin",{state:{message:"You need to be signed in to join a project"}})},h=function(){var e=Object(l.a)(s.a.mark((function e(n){var a,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.b.isUserAuthenticated()){e.next=3;break}return f(),e.abrupt("return");case 3:return a=k.ServiceResolver.apiResolver(),c=n.projectUsers.find((function(e){return e.userId===p})),e.next=7,a.leaveProject(c.id);case 7:(o=e.sent).ok&&(l=t.projectUsers.indexOf(c),t.projectUsers.splice(l,1)),o.ok?u(!i):r(o.data.message);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(s.a.mark((function e(n){var a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.b.isUserAuthenticated()){e.next=3;break}return f(),e.abrupt("return");case 3:return a=k.ServiceResolver.apiResolver(),c={projectId:n.id,isOwner:!1,userId:p},e.next=7,a.joinProject(c);case 7:(o=e.sent).ok&&(c.username=o.data.username,c.id=o.data.id,t.projectUsers.push(c)),o.ok?u(!i):r(o.data.message);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=t.projectUsers.length;return c.a.createElement(w,{"data-testid":"project"},c.a.createElement(j,{name:t.name,workspaceLogo:n,clickable:i,communicationPlatformUrl:t.communicationPlatformUrl}),c.a.createElement(x,null,t.description),c.a.createElement(g,{items:t.projectTechnologies.map((function(e){var t=e.projectId,r=e.name;return{key:t+"-"+r+"-tag",text:r}}))}),c.a.createElement(y,null),c.a.createElement(O,null,b>0?c.a.createElement("span",null,b>=3&&c.a.createElement(C,{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}),2===b&&c.a.createElement(C,{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}),1===b&&c.a.createElement(C,{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}),b," Member",1===b?"":"s"):c.a.createElement(y,null),c.a.createElement(d,{onClick:function(){return i?h(t):v(t)},statusText:i?"Leaving...":"Joining...",joined:i},i?"Leave":"Join")))},_=u.c.div.withConfig({displayName:"panel__Wrapper",componentId:"acrv2w-0"})(["display:grid;align-items:flex-start;grid-template-columns:repeat(1fr);grid-template-rows:8fr;gap:1.5em 1.5em;margin-bottom:2em;@media screen and (min-width:","){grid-template-columns:repeat(2,1fr);}@media screen and (min-width:","){grid-template-columns:repeat(3,1fr);}"],(function(e){return e.theme.sizes.width.small}),(function(e){return e.theme.sizes.width.medium})),z=function(e){var t=e.content,r=void 0===t?[]:t,n=e.setError,a=e.workspaceLogos,o=void 0===a?{}:a;return c.a.createElement(_,null,r.map((function(e){return c.a.createElement(I,{key:e.name,content:e,workspaceLogo:o[e.communicationPlatform],setError:n})})))},S=r("AkCr"),U=r("0eLQ"),P=function(){var e=Object(a.useState)([]),t=e[0],r=e[1],n=Object(a.useState)(null),i=n[0],u=n[1],m=Object(a.useState)(!0),p=m[0],d=m[1],f=Object(a.useState)({}),h=f[0],g=f[1],v=Object(a.useState)(""),b=v[0],j=v[1];return Object(a.useEffect)((function(){var e=k.ServiceResolver.apiResolver();function t(){return(t=Object(l.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getProjects();case 3:(n=t.sent).ok?(a=n.data,r(a)):u(n.data.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),u(t.t0.message);case 10:d(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function n(){return(n=Object(l.a)(s.a.mark((function t(){var r,n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getWorkspaceTypes();case 3:r=t.sent,n=r.data,a={},n.forEach((function(e){a[e.name]=e.logoUrl})),g(a),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:return t.abrupt("return");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),c.a.createElement(a.Fragment,null,c.a.createElement(o.l,{title:"Projects"}),c.a.createElement(S.c,{page:"projects gallery"}),c.a.createElement(o.q,null,b&&c.a.createElement(U.b,{type:"success"},b," ",c.a.createElement(U.a,{onClick:function(){return j(null)}},"✖")),i&&c.a.createElement(U.b,{type:"danger"},i," ",c.a.createElement(U.a,{onClick:function(){return u(null)}},"✖")),p?c.a.createElement(o.g,null):c.a.createElement(z,{content:t,workspaceLogos:h,setError:u})))},L=r("eZYV"),N=function(e){var t=Object(L.d)(),r=Object(a.useState)(void 0),n=r[0],i=r[1],u=Object(a.useState)(""),m=(u[0],u[1]);return Object(a.useEffect)((function(){var t=k.ServiceResolver.apiResolver();function r(){return(r=Object(l.a)(s.a.mark((function r(){var n,a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,null!=e.projectId){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,t.getProject(e.projectId);case 5:n=r.sent,a=n.data,i(a),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),m(r.t0.message);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()})),c.a.createElement(a.Fragment,null,c.a.createElement(o.l,{title:(null==n?"Project":n.name)+" Workspace",description:"Project Workspace for "+t.title+" website"}),c.a.createElement(S.c,{page:"project page"}),c.a.createElement(o.q,null,null==n?c.a.createElement(o.g,null):c.a.createElement("div",null,"Project workspace pages coming soon.")))};t.default=function(){return c.a.createElement(o.f,null,c.a.createElement(n.Router,null,c.a.createElement(N,{path:"projects/:projectId"}),c.a.createElement(S.b,{path:"projects/create"}),c.a.createElement(P,{path:"projects"})))}}}]);
//# sourceMappingURL=component---src-pages-projects-tsx-4728ca45a1e707bd2916.js.map