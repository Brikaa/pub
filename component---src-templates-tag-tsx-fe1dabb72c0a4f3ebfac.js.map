{"version":3,"sources":["webpack:///./src/templates/tag.tsx"],"names":["__webpack_require__","r","__webpack_exports__","d","tagQuery","react__WEBPACK_IMPORTED_MODULE_0__","react_helmet__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_1___default","n","_components__WEBPACK_IMPORTED_MODULE_2__","_config__WEBPACK_IMPORTED_MODULE_3__","TagTemplate","_ref","data","pageContext","posts","allMarkdownRemark","edges","title","tag","slug","totalPosts","currentPage","numberOfPosts","length","isFirstPage","a","site","property","content","url","small","map","_ref2","node","key","fields","excerpt","fluid","frontmatter","image","childImageSharp","file","publishDate","date","prefix","context"],"mappings":"2FAEAA,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,6BAAAE,IAAA,IAAAC,EAAAL,EAAA,GAAAM,EAAAN,EAAA,KAAAO,EAAAP,EAAAQ,EAAAF,GAAAG,EAAAT,EAAA,KAAAU,EAAAV,EAAA,KAsDaI,EAAQ,aA0GNO,UAnEgD,SAAAC,GAGzD,IAFJC,EAEID,EAFJC,KACAC,EACIF,EADJE,YAEMC,EAAQF,EAAKG,kBAAkBC,MACxBC,EAAyCJ,EAA9CK,IAAYC,EAAkCN,EAAlCM,KAAMC,EAA4BP,EAA5BO,WAAYC,EAAgBR,EAAhBQ,YAChCC,EAAgBR,EAAMS,OACtBC,EAA8B,IAAhBH,EAEpB,OACEjB,EAAA,cAACI,EAAA,EAAD,KACGgB,EACCpB,EAAA,cAACE,EAAAmB,EAAD,KACErB,EAAA,oCAAiBa,EAAjB,OAA6BS,IAAKT,OAElCb,EAAA,sBACEuB,SAAS,WACTC,QAAO,SAAWX,EAAX,OAAuBS,IAAKT,QAGrCb,EAAA,sBAAMuB,SAAS,SAASC,QAAYF,IAAKG,IAAV,aAA0BV,EAA1B,OAGjCf,EAAA,cAACE,EAAAmB,EAAD,KACErB,EAAA,oCAAiBa,EAAjB,YAAkCI,EAAlC,MACEK,IAAKT,OAGPb,EAAA,sBACEuB,SAAS,WACTC,QAAO,SAAWX,EAAX,YAA4BI,EAA5B,MAA6CK,IAAKT,QAG3Db,EAAA,sBAAMuB,SAAS,SAASC,QAAYF,IAAKG,IAAV,aAA0BV,EAA1B,OAInCf,EAAA,cAACI,EAAA,EAAD,KACEJ,EAAA,cAACI,EAAA,EAAD,CAAWsB,OAAO,GACfV,EADH,QACoBE,EAAgB,EAAI,IAAM,GAD9C,aAEGL,EAFH,KAMAb,EAAA,cAACI,EAAA,EAAD,KACGM,EAAMiB,IAAI,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAH,OACT7B,EAAA,cAACI,EAAA,EAAD,CACE0B,IAAKD,EAAKE,OAAOhB,KACjBA,KAAMc,EAAKE,OAAOhB,KAClBiB,QAASH,EAAKG,QACdC,MACEJ,EAAKK,YAAYC,MACbN,EAAKK,YAAYC,MAAMC,gBAAgBH,MACvCzB,EAAK6B,KAAKD,gBAAgBH,MAEhCK,YAAaT,EAAKK,YAAYK,KAC9B1B,MAAOgB,EAAKK,YAAYrB,OAASgB,EAAKE,OAAOhB,WAMrDf,EAAA,cAACI,EAAA,EAAD,CAAYoC,OAAO,MAAMC,QAAShC","file":"component---src-templates-tag-tsx-fe1dabb72c0a4f3ebfac.js","sourcesContent":["import { graphql } from 'gatsby';\nimport { FluidObject } from 'gatsby-image';\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\n\nimport {\n  Card,\n  CardList,\n  Container,\n  Layout,\n  PageTitle,\n  Pagination,\n} from '@components';\nimport { site } from '@config';\n\ninterface PostNode {\n  node: {\n    excerpt: string;\n    frontmatter: {\n      date: string;\n      title: string;\n      image: {\n        childImageSharp: {\n          fluid: FluidObject;\n        };\n      };\n    };\n    fields: {\n      slug: string;\n    };\n  };\n}\n\ninterface TagTemplateProps {\n  data: {\n    file: {\n      childImageSharp: {\n        fluid: FluidObject;\n      };\n    };\n    totalCount: number;\n    allMarkdownRemark: {\n      edges: PostNode[];\n    };\n  };\n  pageContext: {\n    tag: string;\n    slug: string;\n    totalPosts: number;\n    limit?: number;\n    skip?: number;\n    numPages?: number;\n    currentPage?: number;\n  };\n}\n\nexport const tagQuery = graphql`\n  query($tag: String, $skip: Int!, $limit: Int!) {\n    file(relativePath: { eq: \"default-post-image.jpg\" }) {\n      childImageSharp {\n        fluid(maxWidth: 1800) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { frontmatter: { tags: { in: [$tag] } } }\n      limit: $limit\n      skip: $skip\n    ) {\n      totalCount\n      edges {\n        node {\n          excerpt(pruneLength: 80)\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            image {\n              childImageSharp {\n                fluid(maxWidth: 1800) {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst TagTemplate: React.FunctionComponent<TagTemplateProps> = ({\n  data,\n  pageContext,\n}) => {\n  const posts = data.allMarkdownRemark.edges;\n  const { tag: title, slug, totalPosts, currentPage } = pageContext;\n  const numberOfPosts = posts.length;\n  const isFirstPage = currentPage === 1;\n\n  return (\n    <Layout>\n      {isFirstPage ? (\n        <Helmet>\n          <title>{`Tag: \"${title}\" - ${site.title}`}</title>\n\n          <meta\n            property=\"og:title\"\n            content={`Tag: \"${title}\" - ${site.title}`}\n          />\n\n          <meta property=\"og:url\" content={`${site.url}/blog/tag/${slug}/`} />\n        </Helmet>\n      ) : (\n        <Helmet>\n          <title>{`Tag: \"${title}\" - Page ${currentPage} - ${\n            site.title\n          }`}</title>\n\n          <meta\n            property=\"og:title\"\n            content={`Tag: \"${title}\" - Page ${currentPage} - ${site.title}`}\n          />\n\n          <meta property=\"og:url\" content={`${site.url}/blog/tag/${slug}/`} />\n        </Helmet>\n      )}\n\n      <Container>\n        <PageTitle small={true}>\n          {totalPosts} Post{numberOfPosts > 1 ? 's' : ''} Tagged: &ldquo;\n          {title}\n          &rdquo;\n        </PageTitle>\n\n        <CardList>\n          {posts.map(({ node }) => (\n            <Card\n              key={node.fields.slug}\n              slug={node.fields.slug}\n              excerpt={node.excerpt}\n              fluid={\n                node.frontmatter.image\n                  ? node.frontmatter.image.childImageSharp.fluid\n                  : data.file.childImageSharp.fluid\n              }\n              publishDate={node.frontmatter.date}\n              title={node.frontmatter.title || node.fields.slug}\n            />\n          ))}\n        </CardList>\n      </Container>\n\n      <Pagination prefix=\"tag\" context={pageContext} />\n    </Layout>\n  );\n};\n\nexport default TagTemplate;\n"],"sourceRoot":""}