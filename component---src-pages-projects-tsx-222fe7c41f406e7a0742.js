(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{gZkK:function(e,t,n){"use strict";n.r(t);var r=n("YwZP"),a=n("q1tI"),o=n.n(a),c=n("/p1/"),i=(n("VRzm"),n("Btvt"),n("o0o1")),s=n.n(i),l=(n("ls82"),n("f3/d"),n("84bF"),n("vOnD")),u=(n("dRSK"),n("Wbzz"));function m(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}var d=l.c.button.withConfig({displayName:"card-button__Button",componentId:"sc-1c27lim-0"})(["color:",";border-radius:0.2em;padding:7px 25px;transition:0.15s;opacity:",";align-self:flex-end;background:transparent;border:1px solid ",";@media (hover:hover){&:hover{background:",";color:",";border:1px solid ",";cursor:",";}}:focus{outline:none;box-shadow:0 0 0 4px ",";}"],(function(e){var t=e.joined,n=e.theme;return t?n.colors.text:n.colors.highlight}),(function(e){return e.disabled?"0.75":"1"}),(function(e){var t=e.joined,n=e.theme;return t?n.colors.greyDark:n.colors.highlight}),(function(e){var t=e.joined,n=e.theme;return t?"transparent":n.colors.highlight}),(function(e){var t=e.joined,n=e.theme;return t?n.colors.base:n.colors.baseinvert}),(function(e){var t=e.joined,n=e.theme;return t?n.colors.base:n.colors.highlight}),(function(e){return e.disabled?"default":"pointer"}),(function(e){var t=e.joined,n=e.theme;return t?n.colors.secondary:n.colors.highlightLight})),p=function(e){var t=e.children,n=e.joined,r=void 0!==n&&n,c=e.disabled,i=void 0!==c&&c,l=e.statusText,u=e.onClick,p=Object(a.useState)(!1),f=p[0],h=p[1],v=function(){var e,t=(e=s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!u||f){e.next=6;break}return h(!0),e.next=5,u();case 5:h(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){m(o,r,a,c,i,"next",e)}function i(e){m(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}();return o.a.createElement(d,{joined:r,disabled:i,onClick:v},f?l:t)},f=l.c.div.withConfig({displayName:"card-tags__Wrapper",componentId:"sc-1wue19l-0"})(["margin-bottom:",";"],(function(e){var t=e.hasMargin;return void 0!==t&&t?"1em":0})),h=l.c.div.attrs({"data-testid":"project-card-pill"}).withConfig({displayName:"card-tags__Pill",componentId:"sc-1wue19l-1"})(["background:",";border-radius:0.3125em;box-shadow:1px 1px 2px ",";color:",";display:inline-block;font-size:0.7em;font-weight:400;margin-right:0.5em;padding:0 0.625em;transition:0.2s;&:last-child{margin:0;}"],(function(e){return e.theme.colors.baseinvert}),(function(e){return e.theme.colors.shadow}),(function(e){return e.theme.colors.text})),v=function(e){var t=e.items;return o.a.createElement(f,{hasMargin:t.length>0},t.slice(0,5).map((function(e){var t=e.key,n=e.text;return o.a.createElement(h,{key:t},n)})),t.length>5?o.a.createElement(h,null,"+",t.length-5):null)},g=(n("Z2Ku"),n("L9s1"),n("9VIf")),b=[{name:"slack",icon:g.o},{name:"discord",icon:g.e}],w=l.c.h3.withConfig({displayName:"card-title__Wrapper",componentId:"n7xi5u-0"})(["color:",";margin:0.2em 0 0.8em;"],(function(e){return e.theme.colors.base})),x=l.c.img.attrs((function(){return{alt:""}})).withConfig({displayName:"card-title__Icon",componentId:"n7xi5u-1"})(["filter:",";margin:0 0 -0.06em;position:relative;left:0.35em;height:0.9em;user-select:none;transition:filter 0.2s ease-out;@media (hover:hover){&:hover{cursor:",";}}"],(function(e){var t=e.clickable;return void 0!==t&&t?"grayscale(0%)":"grayscale(100%)"}),(function(e){var t=e.clickable;return void 0!==t&&t?"pointer":"default"})),E=function(e){var t,n=e.name,r=e.communicationPlatformUrl,c=e.clickable,i=void 0!==c&&c,s=function(e){var t=e.children;return i?o.a.createElement("a",{href:r,title:"Communication platform link for "+n,target:"_blank",rel:"noopener noreferrer"},t):o.a.createElement(a.Fragment,null,t)};return o.a.createElement(w,null,n,r?o.a.createElement(s,null,o.a.createElement(x,{src:null===(t=b.find((function(e){var t=e.name;return null==r?void 0:r.includes(t)})))||void 0===t?void 0:t.icon,clickable:i})):null)},k=n("efbE"),j=n("woEc");function y(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){y(o,r,a,c,i,"next",e)}function i(e){y(o,r,a,c,i,"throw",e)}c(void 0)}))}}var _=l.c.div.withConfig({displayName:"card__Wrapper",componentId:"sc-1upn8k4-0"})(["display:flex;background-color:",";border-radius:0.3125em;padding:1.5em;flex-direction:column;height:100%;box-shadow:1px 1px 2px ",";"],(function(e){return e.theme.colors.section}),(function(e){return e.theme.colors.shadow})),z=l.c.p.withConfig({displayName:"card__Description",componentId:"sc-1upn8k4-1"})(["margin:0 0 1em;font-size:1em;"]),I=l.c.div.withConfig({displayName:"card__Spacer",componentId:"sc-1upn8k4-2"})(["flex:1;"]),P=l.c.div.withConfig({displayName:"card__Footer",componentId:"sc-1upn8k4-3"})(["display:flex;flex-direction:row;justify-content:space-between;span{line-height:2.47;}span svg{vertical-align:middle;margin-right:0.3em;path{fill:",";}}"],(function(e){return e.theme.colors.text})),S=function(e){var t=e.d;return o.a.createElement(c.p,{viewBox:"0 0 640 512",fontSize:"1em"},o.a.createElement("path",{fill:"currentColor",d:t}))},U=function(e){var t=e.content,n=e.setError,r=Object(a.useState)(!1),c=r[0],i=r[1],l=j.b.isUserAuthenticated()?j.b.getUserId():null;Object(a.useEffect)((function(){i(void 0!==t.projectUsers.find((function(e){return e.userId===l})))}),[t.projectUsers,l]);var m=function(){Object(u.navigate)("/signin",{state:{message:"You need to be signed in to join a project"}})},d=function(){var e=C(s.a.mark((function e(r){var a,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.b.isUserAuthenticated()){e.next=3;break}return m(),e.abrupt("return");case 3:return a=k.ServiceResolver.apiResolver(),o=r.projectUsers.find((function(e){return e.userId===l})),e.next=7,a.leaveProject(o.id);case 7:(u=e.sent).ok&&(d=t.projectUsers.indexOf(o),t.projectUsers.splice(d,1)),u.ok?i(!c):n(u.data.message);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=C(s.a.mark((function e(r){var a,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.b.isUserAuthenticated()){e.next=3;break}return m(),e.abrupt("return");case 3:return a=k.ServiceResolver.apiResolver(),o={projectId:r.id,isOwner:!1,userId:l},e.next=7,a.joinProject(o);case 7:(u=e.sent).ok&&(o.username=u.data.username,o.id=u.data.id,t.projectUsers.push(o)),u.ok?i(!c):n(u.data.message);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=t.projectUsers.length;return o.a.createElement(_,{"data-testid":"project"},o.a.createElement(E,{name:t.name,clickable:c,communicationPlatformUrl:t.communicationPlatformUrl}),o.a.createElement(z,null,t.description),o.a.createElement(v,{items:t.projectTechnologies.map((function(e){var t=e.projectId,n=e.name;return{key:t+"-"+n+"-tag",text:n}}))}),o.a.createElement(I,null),o.a.createElement(P,null,h>0?o.a.createElement("span",null,h>=3&&o.a.createElement(S,{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}),2===h&&o.a.createElement(S,{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}),1===h&&o.a.createElement(S,{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}),h," Member",1===h?"":"s"):o.a.createElement(I,null),o.a.createElement(p,{onClick:function(){return c?d(t):f(t)},statusText:c?"Leaving...":"Joining...",joined:c},c?"Leave":"Join")))},O=l.c.div.withConfig({displayName:"panel__Wrapper",componentId:"mp4ykb-0"})(["display:grid;align-items:flex-start;grid-template-columns:repeat(1fr);grid-template-rows:8fr;gap:1.5em 1.5em;margin-bottom:2em;@media screen and (min-width:","){grid-template-columns:repeat(2,1fr);}@media screen and (min-width:","){grid-template-columns:repeat(3,1fr);}"],(function(e){return e.theme.sizes.width.small}),(function(e){return e.theme.sizes.width.medium})),N=function(e){var t=e.content,n=void 0===t?[]:t,r=e.setError;return o.a.createElement(O,null,n.map((function(e){return o.a.createElement(U,{key:e.name,content:e,setError:r})})))},R=n("AkCr"),M=n("0eLQ");function L(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){L(o,r,a,c,i,"next",e)}function i(e){L(o,r,a,c,i,"throw",e)}c(void 0)}))}}var W=function(){var e=Object(a.useState)([]),t=e[0],n=e[1],r=Object(a.useState)(null),i=r[0],l=r[1],u=Object(a.useState)(!0),m=u[0],d=u[1],p=Object(a.useState)(""),f=p[0],h=p[1];return Object(a.useEffect)((function(){var e=k.ServiceResolver.apiResolver();function t(){return(t=V(s.a.mark((function t(){var r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getProjects();case 3:(r=t.sent).ok?(a=r.data,n(a)):l(r.data.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),l(t.t0.message);case 10:d(!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),o.a.createElement(a.Fragment,null,o.a.createElement(c.l,{title:"Projects"}),o.a.createElement(R.c,null),o.a.createElement(c.q,null,f&&o.a.createElement(M.b,{type:"success"},f," ",o.a.createElement(M.a,{onClick:function(){return h(null)}},"✖")),i&&o.a.createElement(M.b,{type:"danger"},i," ",o.a.createElement(M.a,{onClick:function(){return l(null)}},"✖")),m?o.a.createElement(c.g,null):o.a.createElement(N,{content:t,setError:l})))};t.default=function(){return o.a.createElement(c.f,null,o.a.createElement(r.Router,null,o.a.createElement(R.b,{path:"projects/create"}),o.a.createElement(W,{path:"projects"})))}}}]);
//# sourceMappingURL=component---src-pages-projects-tsx-222fe7c41f406e7a0742.js.map